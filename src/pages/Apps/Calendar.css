/* Gantt Chart Styles */
.grid-cols-31 {
    display: grid;
    grid-template-columns: repeat(31, minmax(35px, 1fr));
}

/* Add vertical grid lines */
.grid-cols-31 > div {
    position: relative;
    padding: 8px 4px;
}

.grid-cols-31 > div::after {
    content: '';
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    width: 1px;
    background-color: #e5e7eb;
}

.dark .grid-cols-31 > div::after {
    background-color: #374151;
}

/* Task bar hover effect */
.task-event {
    transition: all 0.2s ease-in-out;
}

.task-event:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

/* Weekend columns */
.grid-cols-31 > div:nth-child(7n),
.grid-cols-31 > div:nth-child(7n-1) {
    background-color: rgba(243, 244, 246, 0.5);
}

.dark .grid-cols-31 > div:nth-child(7n),
.dark .grid-cols-31 > div:nth-child(7n-1) {
    background-color: rgba(31, 41, 55, 0.3);
}

/* Today's column highlight */
.grid-cols-31 > div.today {
    background-color: rgba(59, 130, 246, 0.1);
}

.dark .grid-cols-31 > div.today {
    background-color: rgba(59, 130, 246, 0.2);
}

/* Task progress bar */
.task-progress {
    position: absolute;
    bottom: 0;
    left: 0;
    height: 2px;
    background-color: currentColor;
    opacity: 0.5;
}

/* Scrollbar styling */
.overflow-x-auto {
    scrollbar-width: thin;
    scrollbar-color: rgba(156, 163, 175, 0.5) transparent;
}

.overflow-x-auto::-webkit-scrollbar {
    height: 8px;
}

.overflow-x-auto::-webkit-scrollbar-track {
    background: transparent;
}

.overflow-x-auto::-webkit-scrollbar-thumb {
    background-color: rgba(156, 163, 175, 0.5);
    border-radius: 4px;
}

.dark .overflow-x-auto::-webkit-scrollbar-thumb {
    background-color: rgba(156, 163, 175, 0.3);
}

/* Progress bar animation */
@keyframes progress {
    from { width: 0; }
}

.bg-primary-500 .h-2 {
    animation: progress 1s ease-out;
}

/* Task row hover effect */
.grid-cols-[250px_150px_150px_150px_auto] {
    transition: background-color 0.15s ease-in-out;
}

/* Responsive adjustments */
@media (max-width: 1280px) {
    .grid-cols-31 {
        grid-template-columns: repeat(31, minmax(30px, 1fr));
    }
}

@media (max-width: 768px) {
    .grid-cols-31 {
        grid-template-columns: repeat(31, minmax(25px, 1fr));
    }
}

/* Professional Gantt Chart Styles */
.gantt-container {
    height: calc(100vh - 180px);
    @apply flex flex-col overflow-hidden bg-white dark:bg-slate-900 rounded-lg shadow-lg border border-gray-300 dark:border-gray-700;
}

.gantt-header {
    @apply flex border-b border-gray-300 dark:border-gray-700 bg-gray-100 dark:bg-slate-800 sticky top-0 z-10;
}

.gantt-sidebar-header {
    width: 300px;
    flex-shrink: 0;
    @apply grid grid-cols-1 border-r border-gray-300 dark:border-gray-700 bg-gray-100 dark:bg-slate-800;
}

.gantt-sidebar-header > div {
    @apply px-4 py-3 font-semibold text-gray-700 dark:text-gray-300 border-r border-gray-300 dark:border-gray-700 flex items-center gap-2;
}

.gantt-timeline-header {
    @apply flex-1 overflow-hidden bg-gray-100 dark:bg-slate-800;
}

.month-row {
    @apply border-b border-gray-300 dark:border-gray-700 h-9 flex items-center;
}

.month-row.expanded {
    @apply h-14 flex items-center justify-center bg-gray-200 dark:bg-gray-700;
}

.month-cell {
    @apply px-4 py-2 font-semibold text-gray-700 dark:text-gray-300 text-center flex-1;
}

.month-cell {
    @apply text-2xl font-bold text-gray-800 dark:text-gray-200;
}

.days-row {
    @apply grid grid-cols-[repeat(31,minmax(45px,1fr))] bg-gray-100 dark:bg-slate-800;
}

.day-cell {
    @apply px-2 py-2 text-center border-r border-gray-300 dark:border-gray-700 relative;
}

.day-cell.weekend {
    @apply bg-gray-200 dark:bg-slate-700/50;
}

.day-cell.today {
    @apply bg-blue-100 dark:bg-blue-900/20;
}

.day-cell.today::after {
    content: '';
    @apply absolute top-0 left-0 right-0 h-0.5 bg-blue-500;
}

.day-number {
    @apply block font-medium text-gray-700 dark:text-gray-300 text-sm;
}

.day-name {
    @apply block text-xs text-gray-500 dark:text-gray-400 mt-0.5;
}

.gantt-body {
    @apply flex flex-1 overflow-auto relative;
}

.gantt-sidebar {
    width: 300px;
    @apply flex-shrink-0 border-r border-gray-300 dark:border-gray-700 overflow-y-auto bg-white dark:bg-slate-900;
}

.task-row {
    @apply grid grid-cols-1 border-b border-gray-300 dark:border-gray-700 min-h-[60px] transition-colors hover:bg-gray-100 dark:hover:bg-slate-800/50;
}

.task-row > div {
    @apply px-4 py-3 border-r border-gray-300 dark:border-gray-700;
}

.task-info {
    @apply flex flex-col gap-1.5;
}

.task-info.enhanced-ui {
    @apply flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg shadow-md transition-transform transform hover:scale-105;
}

.task-title {
    @apply text-lg font-semibold text-gray-900 dark:text-gray-100;
}

.task-description {
    @apply text-sm text-gray-600 dark:text-gray-400 line-clamp-2;
}

.assignee-info {
    @apply flex items-center gap-3;
}

.assignee-avatar {
    @apply w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 flex items-center justify-center font-semibold text-white text-sm shadow-sm;
}

.dates-info {
    @apply flex flex-col gap-1.5 text-sm text-gray-600 dark:text-gray-400;
}

.status-badge {
    @apply inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold;
}

.status-badge::before {
    content: '';
    @apply w-1.5 h-1.5 rounded-full;
}

.status-badge.status-pending {
    @apply bg-amber-100 text-amber-700 dark:bg-amber-400/10 dark:text-amber-400;
}

.status-badge.status-inprogress {
    @apply bg-blue-100 text-blue-700 dark:bg-blue-400/10 dark:text-blue-400;
}

.status-badge.status-completed {
    @apply bg-emerald-100 text-emerald-700 dark:bg-emerald-400/10 dark:text-emerald-400;
}

.progress-container {
    @apply mt-2;
}

.progress-bar {
    @apply h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden;
}

.progress-fill {
    @apply h-full transition-all duration-300;
}

.progress-fill.status-pending {
    @apply bg-gradient-to-r from-amber-500 to-amber-600 dark:from-amber-500/80 dark:to-amber-600/80;
}

.progress-fill.status-inprogress {
    @apply bg-gradient-to-r from-blue-500 to-blue-600 dark:from-blue-500/80 dark:to-blue-600/80;
}

.progress-fill.status-completed {
    @apply bg-gradient-to-r from-emerald-500 to-emerald-600 dark:from-emerald-500/80 dark:to-emerald-600/80;
}

.gantt-timeline {
    @apply flex-1 relative overflow-auto;
}

.timeline-row {
    @apply relative h-16 border-b border-gray-300 dark:border-gray-700 transition-colors hover:bg-gray-100 dark:hover:bg-slate-800/50;
}

.task-bar {
    @apply absolute top-1/2 -translate-y-1/2 h-8 rounded-md cursor-pointer transition-all duration-200 shadow-sm hover:-translate-y-[52%] hover:shadow-md;
}

.task-bar.status-pending {
    @apply bg-gradient-to-br from-amber-100 to-amber-50 dark:from-amber-500/20 dark:to-amber-600/20 border border-amber-300 dark:border-amber-500/30;
}

.task-bar.status-inprogress {
    @apply bg-gradient-to-br from-blue-100 to-blue-50 dark:from-blue-500/20 dark:to-blue-600/20 border border-blue-300 dark:border-blue-500/30;
}

.task-bar.status-completed {
    @apply bg-gradient-to-br from-emerald-100 to-emerald-50 dark:from-emerald-500/20 dark:to-emerald-600/20 border border-emerald-300 dark:border-emerald-500/30;
}

.task-bar-content {
    @apply h-full px-3 flex items-center justify-between gap-3;
}

.task-bar-info {
    @apply flex items-center gap-2 min-w-0;
}

.task-bar-title {
    @apply text-sm font-semibold text-gray-900 dark:text-gray-100 truncate;
}

.task-bar-dates {
    @apply text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap;
}

.task-bar-progress {
    @apply relative w-full h-1 bg-black/5 dark:bg-white/5 rounded overflow-hidden mt-1;
}

.task-bar-progress-fill {
    @apply h-full transition-all duration-300;
}

.task-bar-progress-label {
    @apply absolute right-3 top-1/2 -translate-y-1/2 text-xs font-semibold text-gray-700 dark:text-gray-300;
}

.today-indicator {
    @apply absolute top-0 bottom-0 w-0.5 bg-blue-500 dark:bg-blue-400 z-10;
}

.today-indicator::before {
    content: 'Today';
    @apply absolute -top-6 left-1/2 -translate-x-1/2 bg-blue-500 dark:bg-blue-400 text-white px-2 py-0.5 rounded text-xs font-medium whitespace-nowrap;
}

.today-indicator::after {
    content: '';
    @apply absolute bottom-0 left-1/2 -translate-x-1/2 border-4 border-transparent border-t-blue-500 dark:border-t-blue-400;
}

.weekend-indicator {
    @apply absolute inset-0 bg-gray-200 dark:bg-slate-700/50 -z-10;
}

/* Hover effects */
.task-row:hover .task-title,
.timeline-row:hover .task-bar-title {
    @apply text-blue-600 dark:text-blue-400;
}

/* Scrollbar styling */
.gantt-container ::-webkit-scrollbar {
    @apply w-2 h-2;
}

.gantt-container ::-webkit-scrollbar-track {
    @apply bg-transparent;
}

.gantt-container ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 dark:bg-gray-600 rounded-full hover:bg-gray-400 dark:hover:bg-gray-500;
}

/* Dark mode support */
.dark .gantt-header,
.dark .gantt-sidebar-header {
    background-color: #1f2937;
}

.dark .gantt-sidebar-header > div {
    color: #e5e7eb;
}

.dark .task-title {
    color: #f3f4f6;
}

.dark .task-description,
.dark .dates-info {
    color: #9ca3af;
}

.dark .assignee-avatar {
    background-color: #374151;
    color: #e5e7eb;
}

.dark .progress-bar {
    background-color: #374151;
}

.dark .gantt-sidebar-header,
.dark .gantt-sidebar,
.dark .task-row,
.dark .task-row > div,
.dark .day-cell,
.dark .month-row {
    border-color: #374151;
}

.dark .day-number {
    color: #e5e7eb;
}

.dark .day-name {
    color: #9ca3af;
}

/* Responsive styles */
@media (max-width: 1280px) {
    .gantt-sidebar-header,
    .gantt-sidebar {
        width: 500px;
    }

    .task-description {
        -webkit-line-clamp: 1;
    }
}

@media (max-width: 1024px) {
    .gantt-sidebar-header,
    .gantt-sidebar {
        width: 400px;
    }

    .task-row {
        min-height: 70px;
    }

    .day-name {
        display: none;
    }
}

@media (max-width: 768px) {
    .gantt-container {
        height: auto;
    }

    .gantt-header {
        flex-direction: column;
    }

    .gantt-sidebar-header,
    .gantt-sidebar {
        width: 100%;
    }

    .gantt-body {
        flex-direction: column;
    }

    .gantt-timeline {
        overflow-x: auto;
    }

    .task-row {
        grid-template-columns: 1.5fr 1fr 1fr 1fr;
        min-height: 60px;
    }

    .task-row > div {
        padding: 8px;
    }

    .assignee-avatar {
        width: 24px;
        height: 24px;
        font-size: 12px;
    }
}

@media (max-width: 640px) {
    .task-row {
        grid-template-columns: 1fr;
    }

    .assignee-column,
    .dates-column {
        display: none;
    }

    .status-column {
        border-top: 1px solid #e5e7eb;
    }
}

/* Dark mode improvements */
.dark .progress-bar {
    background-color: #374151;
}

.dark .task-bar-progress {
    background-color: rgba(255, 255, 255, 0.1);
}

.dark .progress-label {
    color: #fff;
}
